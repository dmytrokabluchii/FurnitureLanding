window.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("header_testing"),t=document.querySelectorAll(".header__logo_link, .nav__menu_link, .arrow__content-link"),o=document.querySelector(".hamburger__menu"),n=document.querySelector(".mobile__menu"),l=document.querySelectorAll(".sidemenu__list_link"),r=document.querySelector(".modal__callback"),s=document.querySelector(".callback__field"),i=document.querySelector(".overlay"),a=document.querySelectorAll("[data-modal]");function c(){Swal.fire({position:"top-end",icon:"success",title:"Ваше повідомлення відправлено, чекайте на дзвінок від оператора",showConfirmButton:!1,timer:5e3})}function d(){Swal.fire({position:"top-end",icon:"info",title:"Заповніть усі поля!",showConfirmButton:!1,timer:4e3})}function u(){Swal.fire({position:"top-end",icon:"error",title:"Помилка на сервері, повідомлення не відправлено",showConfirmButton:!1,timer:4e3})}var m,_,g;window.onscroll=function(){window.pageYOffset>0?e.classList.add("fixed_header"):e.classList.remove("fixed_header")},function(){for(let e of t)e.addEventListener("click",(t=>{t.preventDefault();const o=e.getAttribute("href");document.querySelector(o).scrollIntoView({behavior:"smooth",block:"start"})}))}(),_=n,g=l,(m=o).addEventListener("click",(function(){m.classList.toggle("active"),_.classList.toggle("active"),document.body.classList.toggle("open"),document.body.classList.toggle("overflow")})),g.forEach((e=>{e.addEventListener("click",(()=>{m.classList.remove("active"),_.classList.remove("active"),document.body.classList.remove("open"),document.body.classList.remove("overflow")}))})),new Swiper(".myScrollSwiper",{direction:"vertical",slidesPerView:"auto",freeMode:!0,scrollbar:{el:".swiper-scrollbar"},mousewheel:!0}),new Swiper(".swiper",{rewind:!0,slidesPerView:1,slidesPerGroup:1,effect:"cube",cubeEffect:{shadow:!1,slideShadows:!1},navigation:{nextEl:".home__slider-next",prevEl:".home__slider-prev"}}),new Swiper(".swiper2",{loop:!0,rewind:!0,spaceBetween:30,slidesPerView:3,slidesPerGroup:3,breakpoints:{320:{slidesPerView:1,slidesPerGroup:1,spaceBetween:15},699:{slidesPerView:2,slidesPerGroup:2},1023:{slidesPerView:3}},navigation:{nextEl:".advantage__slider-next",prevEl:".advantage__slider-prev"}}),function({container:e,slide:t,nextArrow:o,prevArrow:n,totalCounter:l,currentCounter:r}){const s=document.querySelector(e),i=s.querySelectorAll(t),a=s.querySelector(l),c=s.querySelector(r),d=s.querySelector(n),u=s.querySelector(o);let m=1;i.length<10?(a.textContent=`0${i.length}`,c.textContent=`0${m}`):(a.textContent=i.length,c.textContent=m);function _(){i.length<10?c.textContent=`0${m}`:c.textContent=m}u.addEventListener("click",(()=>{m==i.length?m=1:m++,_()})),d.addEventListener("click",(()=>{1==m?m=i.length:m--,_()}))}({container:".home__forslide",slide:".home__slide",totalCounter:"[data-total]",currentCounter:"[data-current]",nextArrow:".home__slider-next",prevArrow:".home__slider-prev"}),axios.get("assets/common/goods.json").then((e=>{!function(e){e.data.forEach((({pic:e,title:t,price:o,priceSale:n})=>{let l=document.createElement("li");l.classList.add("goods__item"),l.innerHTML=`\n        <li class="goods__item">\n          <a class="goods__item-link goods-link" href="assets/images/goods/${e.bigImage}" title="${t}">\n            <img class="goods__item-image"\n            src="assets/images/goods/${e.image}" alt="${t}">\n            ${0!==e.info.length?`<span class="goods__item-info goods-window">${e.info}</span>`:""}\n            ${0!==e.sale.length?`<span class="goods__item-sale goods-window">${e.sale}</span>`:""}\n            <div class="goods__item-about">\n                <h6 class="goods__item-title goods-title">${t}</h6>\n                <div class="goods__item-prices">\n                ${"Акція"===e.sale?`<span style="color:#FF1B1B" class="goods__price goods-title price-red">${o}</span>`:`<span style="color:#1E2E36" class="goods__price goods-title price-red">${o}</span>`}\n                <span class="goods__price price-crossing bold">${n}</span>\n                </div>\n            </div>\n          </a>\n        </li>\n      `,document.querySelector(".goods__column").append(l)})),lightGallery(document.getElementById("aniimated-thumbnials"),{selector:".goods-link",thumbnail:!0,mode:"lg-fade"})}(e)})).catch((()=>{Swal.fire({position:"top-end",icon:"error",title:"Помилка на сервері, картки товарів не можуть бути завантажені",showConfirmButton:!1,timer:4e3})}));const v=document.querySelectorAll(".form_phone"),p=document.querySelector(".callback__names"),h=document.querySelector(".callback__telephone"),f=document.querySelector(".contacts__name"),w=document.querySelector(".contacts__tel"),b=document.querySelector("#my_callback-form"),S=document.querySelector("#my_form-consult"),E="5324396066:AAFDhE5HZ4_mI54HC4OmzWCfjxawduNh8S8",L="-1001758890997";function $(e){e.addEventListener("input",(()=>{""!==e.value?e.style.borderColor="green":e.style.borderColor="red"}))}var k;function q(e,t){e.classList.toggle("active"),t.classList.remove("active"),document.body.style.overflow=""}v.forEach((e=>{e.addEventListener("input",(()=>{var t;(t=e).value.length<17?t.style.borderColor="red":t.style.borderColor="green"}))})),$(p),$(f),[].forEach.call(document.querySelectorAll(".form_phone"),(function(e){let t;function o(e){e.keyCode&&(t=e.keyCode),this.selectionStart<3&&e.preventDefault();let o="+38(___)___-__-__",n=0,l=o.replace(/\D/g,""),r=this.value.replace(/\D/g,""),s=o.replace(/[_\d]/g,(function(e){return n<r.length?r.charAt(n++)||l.charAt(n):e}));n=s.indexOf("_"),-1!=n&&(n<5&&(n=3),s=s.slice(0,n));let i=o.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");i=new RegExp("^"+i+"$"),(!i.test(this.value)||this.value.length<5||t>47&&t<58)&&(this.value=s),"blur"==e.type&&this.value.length<5&&(this.value="")}e.addEventListener("input",o,!1),e.addEventListener("focus",o,!1),e.addEventListener("blur",o,!1),e.addEventListener("keydown",o,!1)})),(k=b).addEventListener("submit",(e=>{e.preventDefault();let t=encodeURI(`Furniture.test Website\nПередзвонити\n\nName: ${p.value};\nPhone: ${h.value};`);""!==p.value&&""!==h.value&&h.value.length>16?axios.get(`https://api.telegram.org/bot${E}/sendMessage?chat_id=${L}&text=`+t+"&parse_mode=html").then((()=>{c()})).catch((()=>{u()})).finally((()=>{k.reset()})):d()})),function(e){e.addEventListener("submit",(t=>{t.preventDefault();let o=encodeURI(`Furniture.test Website\nПроконсультувати\n\nName: ${f.value};\nPhone: ${w.value};`);""!==f.value&&""!==w.value&&w.value.length>16?axios.get(`https://api.telegram.org/bot${E}/sendMessage?chat_id=${L}&text=`+o+"&parse_mode=html").then((()=>{c()})).catch((()=>{u()})).finally((()=>{e.reset()})):d()}))}(S),a.forEach((e=>{e.addEventListener("click",(()=>{!function(e,t){e.classList.toggle("active"),t.classList.add("active"),document.body.style.overflow="hidden"}(r,i)}))})),s.addEventListener("click",(e=>{e.target!==s&&""!=e.target.getAttribute("data-close")||q(r,i)})),document.addEventListener("keydown",(e=>{"Escape"===e.code&&r.classList.contains("active")&&q(r,y)}))}));